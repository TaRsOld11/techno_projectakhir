<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pengaturan | Aplikasi Keuangan</title>
  <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
  <link rel="stylesheet" href="assets/css/lineicons.css" />
  <link rel="stylesheet" href="assets/css/materialdesignicons.min.css" />
  <link rel="stylesheet" href="assets/css/main.css" />
  <style>
    .settings-main-card {
      padding: 0;
    }

    .settings-item {
      width: 100%;
      border: none;
      background: transparent;
      padding: 18px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      text-align: left;
      border-bottom: 1px solid #f0f0f0;
      transition: background 0.2s;
    }

    .settings-item:hover {
      background: #f9fafb;
    }

    .settings-item i {
      font-size: 18px;
      color: #6c757d;
    }

    .settings-item.danger h6,
    .settings-item.danger i {
      color: #dc3545;
    }

    .settings-user {
      background: #fafafa;
    }
  </style>
</head>

<body>
  <div id="preloader">
    <div class="spinner"></div>
  </div>

  <aside class="sidebar-nav-wrapper" id="sidebar-area"></aside>
  <div class="overlay"></div>

  <main class="main-wrapper">
    
    <header class="header" id="header-area"></header>

    <section class="section">
      <div class="container-fluid">
        <div class="title-wrapper pt-30 mb-20">
          <h2>Pengaturan Akun</h2>
          <p class="text-sm text-gray">Kelola akun dan preferensi aplikasi Anda</p>
        </div>

        <div class="row justify-content-center">
          <div class="col-lg-6">
            <div class="card-style settings-main-card">

              <!-- Main card -->
              <div class="settings-user text-center p-30">
                <img src="assets/images/profile/profile-image.png" class="rounded-circle mb-10" width="90" alt="User" />
                <h6 class="mb-0">Admin User</h6>
                <p class="text-sm text-gray">admin@example.com</p>
              </div>

              <!-- PROFIL -->
              <button class="settings-item" data-bs-toggle="modal" data-bs-target="#modalProfile">
                <div>
                  <h6>Profil Saya</h6>
                  <p class="text-sm text-gray">Lihat dan ubah identitas akun</p>
                </div>
                <i class="lni lni-chevron-right"></i>
              </button>

              <!-- PASSWORD -->
              <button class="settings-item" data-bs-toggle="modal" data-bs-target="#modalPassword">
                <div>
                  <h6>Ganti Password</h6>
                  <p class="text-sm text-gray">Perbarui keamanan akun</p>
                </div>
                <i class="lni lni-lock"></i>
              </button>

              <!-- TARGET KEUANGAN -->
              <button class="settings-item" data-bs-toggle="modal" data-bs-target="#modalBudget">
                <div>
                  <h6>Budgeting</h6>
                  <p class="text-sm text-gray">Atur batas pengeluaran bulanan</p>
                </div>
                <i class="lni lni-wallet"></i>
              </button>

              <!-- KATEGORI -->
              <button class="settings-item" data-bs-toggle="modal" data-bs-target="#modalKategori">
                <div>
                  <h6>Kategori Custom</h6>
                  <p class="text-sm text-gray">Kelola kategori transaksi manual</p>
                </div>
                <i class="lni lni-list"></i>
              </button>

              <hr>

              <!-- RESET -->
              <button class="settings-item danger" data-bs-toggle="modal" data-bs-target="#modalReset">
                <div>
                  <h6>Reset Semua Data</h6>
                  <p class="text-sm">Tindakan ini tidak dapat dibatalkan</p>
                </div>
                <i class="lni lni-warning"></i>
              </button>


              <!-- SIGN OUT -->
              <button class="settings-item danger" data-bs-toggle="modal" data-bs-target="#modalSignout">
                <div>
                  <h6>Sign Out</h6>
                  <p class="text-sm">Keluar dari akun ini</p>
                </div>
                <i class="lni lni-exit"></i>
              </button>


            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Modal profil -->
    <div class="modal fade" id="modalProfile" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Profil Saya</h5>
            <button class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">

            <div class="text-center mb-20">
              <img src="assets/images/profile/profile-image.png" class="rounded-circle mb-10" width="90">
              <div>
                <input type="file" class="form-control form-control-sm">
              </div>
            </div>

            <div class="input-style-1">
              <label>Nama Lengkap</label>
              <input type="text" value="Admin User">
            </div>

            <div class="input-style-1">
              <label>Email</label>
              <input type="email" value="admin@example.com">
            </div>

            <div class="input-style-1">
              <label>Bio</label>
              <textarea rows="3"></textarea>
            </div>

            <button class="main-btn primary-btn btn-hover w-100">
              Simpan Perubahan
            </button>

          </div>
        </div>
      </div>
    </div>


    <!-- Modal ganti password  -->
    <div class="modal fade" id="modalPassword" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Ganti Password</h5>
            <button class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">

            <div class="input-style-1">
              <label>Password Saat Ini</label>
              <input type="password">
            </div>

            <div class="input-style-1">
              <label>Password Baru</label>
              <input type="password">
            </div>

            <div class="input-style-1">
              <label>Konfirmasi Password</label>
              <input type="password">
            </div>

            <button class="main-btn primary-btn btn-hover w-100">
              Update Password
            </button>

          </div>
        </div>
      </div>
    </div>

    <!-- Modal budgeting  -->
    <div class="modal fade" id="modalBudget" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Budgeting</h5>
            <button class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">

            <div class="input-style-1">
              <label>Batas Bulanan (Rp)</label>
              <input type="text" id="budgetInput" placeholder="Contoh: 5.000.000" value="5.000.000" />

              <input type="hidden" id="budgetValue" value="5000000">

            </div>

            <div class="form-check checkbox-style mb-20">
              <input class="form-check-input" type="checkbox" checked>
              <label class="form-check-label">
                Notifikasi saat mencapai 80%
              </label>
            </div>

            <button class="main-btn primary-btn btn-hover w-100">
              Simpan Target
            </button>

          </div>
        </div>
      </div>
    </div>


    <!-- Modal kategori custom  -->
    <div class="modal fade" id="modalKategori" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Kategori Custom</h5>
            <button class="btn-close" data-bs-dismiss="modal"></button>
          </div>

          <div class="modal-body">
            <p class="text-sm text-gray mb-15">
              Kelola kategori transaksi yang Anda buat secara manual.
            </p>

            <div class="table-wrapper table-responsive mb-20">
              <table class="table">
                <tbody>
                  <tr>
                    <td>Servis Motor</td>
                    <td class="action justify-content-end">
                      <button class="text-danger">
                        <i class="lni lni-trash-can"></i>
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>Sedekah Jumat</td>
                    <td class="action justify-content-end">
                      <button class="text-danger">
                        <i class="lni lni-trash-can"></i>
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="input-style-1 mb-20">
              <label>Tambah Kategori Baru</label>
              <input type="text" placeholder="Contoh: Donasi">
            </div>

            <button class="main-btn primary-btn btn-hover w-100">
              Simpan Perubahan
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- modal reset -->
    <div class="modal fade" id="modalReset" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title text-danger">Konfirmasi Reset</h5>
            <button class="btn-close" data-bs-dismiss="modal"></button>
          </div>

          <div class="modal-body text-center">
            <i class="lni lni-warning text-danger mb-15" style="font-size:40px"></i>
            <p>
              Apakah Anda yakin ingin <strong>menghapus seluruh data</strong>?
              <br>
              Tindakan ini tidak bisa dibatalkan.
            </p>
            <hr>

            <div class="d-flex gap-10">
              <button class="main-btn primary-btn w-50" data-bs-dismiss="modal">
                Batal
              </button>
              <button class="main-btn danger-btn w-50">
                Ya, Reset
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- modal signout -->
    <div class="modal fade" id="modalSignout" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Konfirmasi Sign Out</h5>
            <button class="btn-close" data-bs-dismiss="modal"></button>
          </div>

          <div class="modal-body text-center">
            <i class="lni lni-exit mb-15" style="font-size:40px"></i>
            <p>Apakah Anda yakin ingin keluar dari akun ini?</p>
            <hr>
            <div class="d-flex gap-10">
              <button class="main-btn secondary-btn w-50" data-bs-dismiss="modal">
                Batal
              </button>
              <button class="main-btn danger-btn w-50">
                Sign Out
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>


    <footer class="footer" id="footer-area"></footer>
  </main>
  <script src="assets/js/bootstrap.bundle.min.js"></script>
  <script src="assets/js/main.js"></script>
  <script src="api.js"></script>
  <script src="layout.js"></script>
  <script>
    const budgetInput = document.getElementById("budgetInput");
    const budgetValue = document.getElementById("budgetValue");

    function formatRupiah(angka) {
      return angka
        .toString()
        .replace(/\D/g, "")
        .replace(/\B(?=(\d{3})+(?!\d))/g, ".");
    }

    budgetInput.addEventListener("input", function (e) {
      const raw = e.target.value.replace(/\D/g, "");
      budgetValue.value = raw;
      e.target.value = raw ? formatRupiah(raw) : "";
    });
  </script>

</body>

</html>